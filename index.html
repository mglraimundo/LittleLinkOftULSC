<!doctype html>

<!--
  To change the theme, change the class on the html tag below to one of:
  - theme-auto: Automatically switches based on user's system preferences
  - theme-light: Forces light theme
  - theme-dark: Forces dark theme
-->

<html class="theme-auto" lang="en">
  <!-- Update`class="theme-auto" with your preference -->

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Page Title - Change this to your name/brand (50-60 characters recommended) -->
    <title>Oftalmologia | ULS Coimbra</title>
    <link rel="icon" type="image/webp" href="images/avatar.webp" />
    <!-- Update this with your own favicon -->
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#ffffff" />

    <!-- Meta Description - Write a description (150-160 characters recommended) -->
    <meta
      name="description"
      content="Portal interno do serviço de Oftalmologia da ULS Coimbra."
    />

    <!-- Keywords -->
    <meta name="keywords" content="oftalmologia, uls coimbra" />

    <!-- Canonical URL - Helps prevent duplicate content issues -->
    <meta rel="canonical" href="https://oftalulsc.mraimundo.com" />

    <!-- Author Information -->
    <meta name="author" content="Miguel Raimundo" />

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/reset.css?v=4" />
    <link rel="stylesheet" href="css/style.css?v=4" />
    <link rel="stylesheet" href="css/brands.css?v=4" />

    <!-- LittleLink Extended Stylesheet (Optional) -->
    <!-- <link rel="stylesheet" href="css/brands-extended.css"> -->
    <!-- Learn more at https://github.com/sethcottle/littlelink-extended.
         Remove comments if you've added LittleLink Extended dependencies -->
  </head>

  <body>
    <div class="container">
      <div class="column">
        <!--
              By default, the Avatar is rounded. Use the following:
              - avatar--rounded: Automatically rounds the image
              - avatar--soft: Slightly rounds the image
              - avatar--none: Removes any rounding

              Be sure to replace the src with your own image path and update the alt text
            -->
        <img
          class="avatar avatar--rounded"
          src="images/avatar.webp"
          alt="ULS Coimbra"
        />

        <!-- Replace with your name or brand -->
        <h1>
          <div>Oftalmologia ULSC</div>
        </h1>

        <!-- Add a short description about yourself or your brand -->
        <p>Portal interno do serviço de Oftalmologia da ULS Coimbra</p>

        <!-- Search -->
        <input
          type="text"
          id="search"
          class="search-input"
          placeholder="Pesquisar..."
          autocomplete="off"
        />

        <!-- All your buttons go here -->
        <div class="button-stack" role="navigation">
          <!-- Ungrouped buttons -->
          <a
            class="button button-sclinico"
            href="http://sclinicov2.chuc.min-saude.pt:9001/forms/frmservlet?config=sclinico"
            target="_blank"
            rel="noopener"
            role="button"
            data-edge-only
            ><img
              class="icon"
              aria-hidden="true"
              src="images/icons/sclinico.png"
              alt="sclinico"
            />SCLÍNICO</a
          >
          <a
            class="button button-chamar"
            href="http://stentor.mraimundo.com"
            target="_blank"
            rel="noopener"
            role="button"
            ><img
              class="icon"
              aria-hidden="true"
              src="images/icons/volume-high.svg"
              alt="chamar stentor"
            />Chamar (Área A)</a
          >

          <!-- Pedidos -->
          <details>
            <summary>Pedidos</summary>
            <div class="section-content">
              <a
                class="button button-glaucoma"
                href="https://forms.office.com/e/fF7H5YUMfp"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/generic-blog.svg"
                  alt="glaucoma"
                />Glaucoma</a
              >
              <a
                class="button button-retinamedica"
                href="https://forms.office.com/e/1MKnBu6Lbv"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/generic-blog.svg"
                  alt="retina médica"
                />Retina Médica</a
              >
              <a
                class="button button-outros"
                href="https://forms.office.com/e/jTdeDLwwUp"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/generic-blog.svg"
                  alt="outros"
                />Outros</a
              >
              <a
                class="button button-uapo"
                href="https://forms.office.com/e/xGAHxwXqgL"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/generic-blog.svg"
                  alt="uapo"
                />Triagem UAPO</a
              >
            </div>
          </details>

          <!-- Institucional -->
          <details>
            <summary>Institucional</summary>
            <div class="section-content">
              <a
                class="button button-microsoft"
                href="https://outlook.office.com/mail/?realm=ulscoimbra.min-saude.pt"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/microsoft.svg"
                  alt="Microsoft Outlook"
                />E-Mail</a
              >
              <a
                class="button button-externo"
                href="https://intranet.chuc.min-saude.pt/"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/generic-homepage.svg"
                  alt="Portal ULS Coimbra"
                />Portal ULS Coimbra</a
              >
              <a
                class="button button-externo"
                href="https://webrhv.min-saude.pt/"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/generic-website.svg"
                  alt="WebRHV"
                />WebRHV</a
              >
              <a
                class="button button-externo"
                href="http://gestrh.huc.min-saude.pt/GestRH/default.aspx"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/generic-website.svg"
                  alt="GestRH"
                />GestRH</a
              >
              <a
                class="button button-externo"
                href="https://sisqualapp.ulscoimbra.min-saude.pt/"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/generic-website.svg"
                  alt="SISQUAL"
                />SISQUAL</a
              >
              <a
                class="button button-externo"
                href="http://stsi.chuc.local/glpi"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/generic-code.svg"
                  alt="Helpdesk"
                />Helpdesk</a
              >
            </div>
          </details>

          <!-- Externos -->
          <details>
            <summary>Externos</summary>
            <div class="section-content">
              <a
                class="button button-outros"
                href="https://spoftalmologia.pt/pagina-inicial/"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/generic-website.svg"
                  alt="sociedade portuguesa oftalmologia"
                />SPO</a
              >

              <a
                class="button button-escrs-iol-calculator"
                href="https://iolcalculator.escrs.org"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/escrsiol-logo.png"
                  alt="ESCRS IOL Calculator icon"
                />ESCRS IOL Calculator</a
              >

              <a
                class="button button-biomapi"
                href="https://biomapi.com"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/biomapi-logo.png"
                  alt="BiomAPI icon"
                />BiomAPI</a
              >

              <a
                class="button button-biompedi"
                href="https://pedi.biomapi.com"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/biompedi-logo.png"
                  alt="BiomPEDI icon"
                />BiomPEDI</a
              >
            </div>
          </details>

          <!-- Secretariado -->
          <details>
            <summary>Secretariado</summary>
            <div class="section-content">
              <a
                class="button button-glaucoma"
                href="https://snspt-my.sharepoint.com/:x:/r/personal/10819_ulscoimbra_min-saude_pt/Documents/Secretariado/Retina%20M%C3%A9dica.xlsx?d=w401a0796f2a148b2977d01fbfe09e396&csf=1&web=1&e=irfD1q"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/generic-review.svg"
                  alt="Blog Icon"
                />Glaucoma</a
              >
              <a
                class="button button-retinamedica"
                href="https://snspt-my.sharepoint.com/:x:/r/personal/10819_ulscoimbra_min-saude_pt/Documents/Secretariado/Glaucoma.xlsx?d=web3abcc0eb4341bf8b2ab002a34a6db1&csf=1&web=1&e=XLB6HK"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/generic-review.svg"
                  alt="Blog Icon"
                />Retina Médica</a
              >
              <a
                class="button button-outros"
                href="https://snspt-my.sharepoint.com/:x:/r/personal/10819_ulscoimbra_min-saude_pt/Documents/Secretariado/Secretariado%20(Pedidos).xlsx?d=wa663d5cfbba64598a45f7c19e62580ae&csf=1&web=1&e=qxLONS"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/generic-review.svg"
                  alt="Blog Icon"
                />Outros</a
              >
              <a
                class="button button-uapo"
                href="https://snspt-my.sharepoint.com/:x:/r/personal/10819_ulscoimbra_min-saude_pt/Documents/Secretariado/Triagem%20UAPO.xlsx?d=w695f91c078834a6ba1e9008b7dfc4be7&csf=1&web=1&e=w2XFDs"
                target="_blank"
                rel="noopener"
                role="button"
                ><img
                  class="icon"
                  aria-hidden="true"
                  src="images/icons/generic-review.svg"
                  alt="Blog Icon"
                />Triagem UAPO</a
              >
            </div>
          </details>
        </div>

        <footer>
          <a href="#" id="install-btn" style="display:none;">Instalar no ambiente de trabalho</a>
          <br id="install-br" style="display:none;" />
          Desenvolvido por Miguel Raimundo
        </footer>
      </div>
    </div>

    <!-- Search Script -->
    <script>
      (function () {
        var input = document.getElementById("search");
        var stack = document.querySelector(".button-stack");
        var allButtons = stack.querySelectorAll("a.button");
        var allDetails = stack.querySelectorAll("details");

        input.addEventListener("input", function () {
          var query = input.value.trim().toLowerCase();

          if (!query) {
            allButtons.forEach(function (btn) {
              btn.classList.remove("hidden");
            });
            allDetails.forEach(function (d) {
              d.removeAttribute("open");
              d.classList.remove("hidden");
            });
            allDetails.forEach(function (d) {
              d.querySelector("summary").classList.remove("hidden");
            });
            return;
          }

          allButtons.forEach(function (btn) {
            var text = btn.textContent.toLowerCase();
            var match = fuzzyMatch(query, text);
            btn.classList.toggle("hidden", !match);
          });

          allDetails.forEach(function (d) {
            var visibleInside = d.querySelectorAll(
              ".section-content a.button:not(.hidden)",
            );
            if (visibleInside.length > 0) {
              d.setAttribute("open", "");
              d.classList.remove("hidden");
              d.querySelector("summary").classList.remove("hidden");
            } else {
              d.removeAttribute("open");
              d.classList.add("hidden");
            }
          });
        });

        var isEdge = navigator.userAgent.indexOf("Edg/") !== -1;
        stack.addEventListener("click", function (e) {
          var link = e.target.closest("a[data-edge-only]");
          if (link && !isEdge) {
            e.preventDefault();
            alert("Este link só funciona no Microsoft Edge.");
          }
        });

        function fuzzyMatch(query, text) {
          var qi = 0;
          for (var ti = 0; ti < text.length && qi < query.length; ti++) {
            if (text[ti] === query[qi]) qi++;
          }
          return qi === query.length;
        }
      })();

      // PWA Install
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js');
      }
      var installBtn = document.getElementById('install-btn');
      var installBr = document.getElementById('install-br');
      var deferredPrompt;
      window.addEventListener('beforeinstallprompt', function(e) {
        e.preventDefault();
        deferredPrompt = e;
        installBtn.style.display = '';
        installBr.style.display = '';
      });
      installBtn.addEventListener('click', function(e) {
        e.preventDefault();
        if (deferredPrompt) {
          deferredPrompt.prompt();
          deferredPrompt.userChoice.then(function() {
            deferredPrompt = null;
            installBtn.style.display = 'none';
            installBr.style.display = 'none';
          });
        }
      });
      window.addEventListener('appinstalled', function() {
        installBtn.style.display = 'none';
        installBr.style.display = 'none';
      });
    </script>
  </body>
</html>
